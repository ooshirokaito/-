# ER図1
## 全体
- created_atやdeleted_atなどの自動生成されるカラムが考慮されていません。
- 入荷を管理するテーブルやカラムなどがありません。
- 登録住所以外の配送先はどこで管理しますか？
- 受注詳細テーブルがありません。購入時の商品の価格などを管理できるようにしましょう。

## 管理者
- エンドユーザー、商品テーブルとアソシエーションを結んでいますが、どのように利用しますか？

## エンドユーザー
- エンドユーザーが退会処理を行った場合、エンドユーザーの情報やそのエンドユーザーの購入情報などどのように管理しますか？

## 決済/カート/商品
- 現状の合計金額の管理方法では、商品の価格が変わった際にすでに購入済みのものまで変わってしまう。

## 決済
- 送料が入っていません。

## カート
- テーブル名と役割が異なっています。
- カート内で合計金額はカラムで管理する必要はありますか？
- どのエンドユーザーのカートか管理できていない。
- PKのカラム名がテーブル名と異なる。

- 商品テーブルで管理して、アソシエーションを結んでいるにもかかわらず、アーティスト名やジャケット画像、シングルアルバム名を管理している。

## 商品
- 商品テーブル内でアーティスト名や、レーベル名を管理している。
- ジャンルカラムがありますが、ジャンルは商品ごとに毎回入力する仕様でしょうか？
- ディスクが2枚以上の場合、どのようにデータを格納しますか？
- 複数ある曲名を一つのカラムに格納している。
- 商品を削除した際にその商品を購入した情報などはどのように管理しますか？
- 在庫数は入荷数と売り上げに依存するものなのでカラムで管理すべきではありません。

## 購入履歴
- 一つの決済に対して、複数の発送ステータスは存在する必要がない。

## 決済
- テーブル名が役割と異なっています。
- レコードが生成された日時はcreated_atで生成されますが、購入日カラムは必要でしょうか？
- 購入した商品の合計金額はどのように管理しますか？
- カートとのリレーションはどのように利用しますか？
- 送付先住所以外に住所に関するカラム(郵便番号や宛名)が管理されていません。


# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# 指摘事項
* 指摘事項は消さないでください

## 全体
- 自動生成されるカラムが考慮されていません。
- 入荷したものはどこで管理しますか？
- 複数の配送先はどのように管理しますか？
- 受注詳細テーブルがありません。(決済テーブルと商品テーブルは結びつける必要があるが、多対多なので、中間テーブルかつ購入時の価格を格納するテーブルが必要になります。)

## 管理者
- 商品テーブルとのリレーションはどのように利用しますか？

## エンドユーザー
- 論理削除はどのように行いますか？

## 商品
- ジャンルカラムはその都度入力するのでしょうか？
- ディスクが複数枚ある場合はどうしますか？
- 論理削除はどのようにしますか？
- ステータスというカラムは何を表しているのでしょうか？
- 在庫数カラムは「入荷数-売上」の計算結果なのでデータとして格納するべきではありません。(逆に初期値である入荷数は必要になります。)

## カート
- テーブル名と役割が一致していません。(テーブル内商品などが適切です。)
- 合計金額はデータとして格納する必要があるでしょうか？
- PKの命名がテーブルと合っていません。

## 決済
- テーブル名が役割と異なっています。(命名は基本的に管理者目線が適切です。)
- 購入日カラムは必要でしょうか？
- 合計金額はどのように確認しますか？
- カートとのリレーションはどのように利用しますか？(カートはあるが、決済はない/注文後もカートのデータを残しておかなければならない などの問題点があります。)
- 住所以外に宛名や郵便番号などは必要ありませんか？
