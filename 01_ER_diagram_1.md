# ER図1
## 全体
- created_atやdeleted_atなどの自動生成されるカラムが考慮されていません。
- 入荷を管理するテーブルやカラムなどがありません。
- 登録住所以外の配送先はどこで管理しますか？
- 受注詳細テーブルがありません。購入時の商品の価格などを管理できるようにしましょう。

## 管理者
- エンドユーザー、商品テーブルとアソシエーションを結んでいますが、どのように利用しますか？

## エンドユーザー
- エンドユーザーが退会処理を行った場合、エンドユーザーの情報やそのエンドユーザーの購入情報などどのように管理しますか？

## 決済/カート/商品
- 現状の合計金額の管理方法では、商品の価格が変わった際にすでに購入済みのものまで変わってしまう。

## 決済
- 送料が入っていません。

## カート
- テーブル名と役割が異なっています。
- カート内で合計金額はカラムで管理する必要はありますか？
- どのエンドユーザーのカートか管理できていない。
- PKのカラム名がテーブル名と異なる。

- 商品テーブルで管理して、アソシエーションを結んでいるにもかかわらず、アーティスト名やジャケット画像、シングルアルバム名を管理している。

## 商品
- 商品テーブル内でアーティスト名や、レーベル名を管理している。
- ジャンルカラムがありますが、ジャンルは商品ごとに毎回入力する仕様でしょうか？
- ディスクが2枚以上の場合、どのようにデータを格納しますか？
- 複数ある曲名を一つのカラムに格納している。
- 商品を削除した際にその商品を購入した情報などはどのように管理しますか？
- 在庫数は入荷数と売り上げに依存するものなのでカラムで管理すべきではありません。

## 購入履歴
- 一つの決済に対して、複数の発送ステータスは存在する必要がない。

## 決済
- テーブル名が役割と異なっています。
- レコードが生成された日時はcreated_atで生成されますが、購入日カラムは必要でしょうか？
- 購入した商品の合計金額はどのように管理しますか？
- カートとのリレーションはどのように利用しますか？
- 送付先住所以外に住所に関するカラム(郵便番号や宛名)が管理されていません。


# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

**研修担当レビュー**
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>
## 商品
- ステータスというカラムは何を表しているのでしょうか？
  - 入り得る値が想像しやすいカラム名が適切です。

## 決済
- 2か所に分かれているので統一しましょう。
  - 決済/カート/商品項は全体で指摘すればOKです。
- 送料は全体で指摘しましょう。
  - ここに書いてしまうと、ただ決済に送料カラムを追加する作業になってしまうためです。
